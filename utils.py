Q_HIVAU = {
    "Caption": [
        "Describe the video briefly.\t( 영상을 간단히 설명해 주세요. )",
        "Describe the main events that take place in this video.\t( 이 영상에서 일어나는 주요 사건들을 설명해 주세요. )",
        "Give a short description of the video.\t( 영상을 간단히 설명해 주세요. )",
        "What happened in this video?\t( 이 영상에서 무슨 일이 일어났나요? )",
        "Generate a brief caption for the video.\t( 영상에 대한 간단한 캡션을 생성해 주세요. )",
        "Can you provide a brief description of the video?\t( 영상에 대한 간단한 설명을 제공해 주세요. )",
        "Briefly describe the main subjects and their actions in the video.\t( 영상에서 주요 인물과 그들의 행동을 간단히 설명해 주세요. )",
        "Provide a short overview of what happens in the video?\t( 영상에서 일어나는 일에 대한 간단한 개요를 제공해 주세요. )",
        "Describe the key moments that showcase the subjects’ activities in the video.\t( 영상에서 인물들의 활동을 보여주는 주요 순간들을 설명해 주세요. )",
        "Describe the sequence of events involving the main subjects in the video.\t( 영상에서 주요 인물들이 관련된 사건들의 순서를 설명해 주세요. )",
        "What activities happen throughout the video?\t( 영상 전체에서 어떤 활동들이 일어나나요? )",
        "Describe the main subjects and their roles in the video.\t( 영상에서 주요 인물들과 그들의 역할을 설명해 주세요. )",
        "What key moments stand out in the video?\t( 영상에서 눈에 띄는 주요 순간들은 무엇인가요? )",
        "What are the primary activities showcased in the video?\t( 영상에서 주로 보여지는 활동들은 무엇인가요? )",
        "What happens to the main subjects as the video progresses?\t( 영상이 진행되면서 주요 인물들은 어떤 변화를 겪나요? )",
        "What is a brief overview of what happens in the video?\t( 영상에서 일어나는 일에 대한 간단한 개요는 무엇인가요? )",
        "Describe the main subjects and their contributions to the video.\t( 영상에서 주요 인물들과 그들이 영상에 기여하는 바를 설명해 주세요. )",
        "Describe the key events in the video.\t( 영상에서 주요 사건들을 설명해 주세요. )",
        "Describe the video’s main activities.\t( 영상의 주요 활동들을 설명해 주세요. )",
        "Can you describe the main action in this video briefly?\t( 이 영상에서 주요 행동을 간단히 설명해 주세요. )",
        "Describe the video clip concisely.\t( 영상 클립을 간단히 설명해 주세요. )",
        "Provide a brief description of the given video clip.\t( 주어진 영상 클립에 대한 간단한 설명을 제공해 주세요. )",
        "Summarize the visual content of the video clip.\t( 영상 클립의 시각적 내용을 요약해 주세요. )",
        "Give a short and clear explanation of the subsequent video clip.\t( 다음 영상 클립에 대한 간단하고 명확한 설명을 제공해 주세요. )"
    ],

    "Judgment": [
        "What types of anomalies are shown in the video clip?\t( 영상 클립에서 어떤 종류의 이상 행동이 보여졌나요? )",
        "Are there any anomaly events detected in the video?\t( Are there any anomaly events detected in the video? )",
        "Detect and classify the anomaly events in the video.\t( 영상에서 이상 행동을 탐지하고 분류해 주세요. )",
        "Identify any abnormal behaviors depicted in the video.\t( 영상에 묘사된 비정상 행동을 식별해 주세요. )",
        "Determine whether there are anomaly events in the video and the specific name of the anomaly.\t( 영상에 이상 행동이 존재하는지 판단하고, 해당 이상 행동의 구체적인 명칭을 제시해 주세요. )",
        "What anomalies can be identified in the video?\t( 영상에서 식별할 수 있는 이상 행동은 무엇인가요? )",
        "What categories of anomalies can be found in the video?\t( 영상에서 발견되는 이상 행동의 유형은 무엇인가요? )",
        "Could you point out any abnormal actions in the video?\t( 영상에서 비정상 행동을 지적해 주세요. )",
        "Point out the abnormal actions in the video.\t( 영상에서 비정상 행동을 지적하세요. )",
        "Are there anomalies observed in the video clip?\t( 영상 클립에서 이상 행동이 관찰되었나요? )"
    ],

    "Description": [
        "Describe the anomaly events observed in the video.\t( 영상에서 관찰된 이상 행동을 설명하세요. )",
        "Could you describe the anomaly events observed in the video?\t( 영상에서 관찰된 이상 행동을 설명해 주세요. )",
        "Could you specify the anomaly events present in the video?\t( 영상에 존재하는 이상 행동을 구체적으로 명시해 주세요. )",
        "Give a description of the detected anomaly events in this video.\t( 이 영상에서 탐지된 이상 행동에 대해 설명해 주세요. )",
        "Could you give a description of the anomaly events in the video?\t( 이 영상에서 탐지된 이상 행동에 대해 설명히세요. )",
        "Provide a summary of the anomaly events in the video.\t( 영상에 나타난 이상 행동을 요약하세요. )",
        "Could you provide a summary of the anomaly events in this video?\t( 이 영상에서 나타난 이상 행동을 요약해 주세요. )",
        "What details can you provide about the anomaly in the video?\t( 영상 속 이상 행동에 대해 어떤 세부 정보를 제공할 수 있나요? )",
        "How would you detail the anomaly events found in the video?\t( 영상에서 발견된 이상 행동을 구체적으로 설명해 주세요. )",
        "How would you describe the particular anomaly events in the video?\t( 영상에서 특정 이상 행동을 어떻게 설명하시겠습니까? )"
    ],

    "Analysis": [
        "Why do you judge this event to be anomalous?\t( 이 사건을 이상 행동으로 판단한 이유는 무엇인가요? )",
        "Can you provide the reasons for considering it anomalous?\t( 이를 이상 행동으로 간주한 이유를 설명해 주세요. )",
        "Can you give the basis for your judgment of this event as an anomaly?\t( 이 사건을 이상 행동으로 판단한 근거를 제시해 주세요. )",
        "What led you to classify this event as an anomaly?\t( 무엇으로 인해 이 사건을 이상 행동으로 분류하게 되었나요? )",
        "Could you provide the reasons for considering this event as abnormal?\t( 이 사건을 비정상 사건으로 판단한 이유를 설명해 주세요. )",
        "What evidence do you have to support your judgment of this event as an anomaly?\t( 이 사건을 이상 행동으로 판단한 근거가 되는 증거는 무엇인가요? )",
        "Can you analyze the factors contributing to this anomalous event?\t( 이 이상 행동에 기여한 요인들을 분석해 주세요. )",
        "Could you share your analysis of the anomalous event?\t( 해당 이상 행동에 대한 분석을 제시해 주세요. )",
        "What patterns did you observe that contributed to your conclusion about this event being an anomaly?\t( 이 사건을 이상 행동으로 판단하게 된 관찰 패턴은 무엇인가요? )",
        "How do the characteristics of this event support its classification as an anomaly?\t( 이 사건의 어떤 특성이 이상 행동으로 분류되는 근거가 되나요? )"
    ]
}


Q_SeQA = {
    "Context": [
        "Summarize the video.\t( 영상을 요약해 주세요. )",
        "What is the main theme or context of this video?\t( 이 영상의 주요 주제나 맥락은 무엇인가요? )",
        "In what situation or setting does this video take place?\t( 이 영상은 어떤 상황이나 환경에서 촬영되었나요? )",
    ],

    "Anomaly": [
        "Who is causing the disturbance in the video?\t( 영상에서 소란을 일으키는 사람은 누구인가요? )",
        "What is the unusual activity happening in the video?\t( 영상에서 발생하고 있는 이상 행동은 무엇인가요? )",
        "When did the anomaly occur in the video?\t( 영상에서 이상 행동이 언제 발생했나요? )",
        "Where is the strange event taking place in the video?\t( 영상에서 이상 행동이 발생한 장소는 어디인가요? )",
        "Why is the object in the video behaving abnormally?\t( 영상에서 물체가 비정상적으로 행동하는 이유는 무엇인가요? )",
        "How is the anomaly in the video affecting the surroundings?\t( 영상에서 이상 행동이 주변에 어떤 영향을 미치고 있나요? )",
        "How much damage was caused by the incident in the video?\t( 영상에서 사건으로 인해 얼마나 많은 피해가 발생했나요? )",
        "Who is the main person involved in the unusual event?\t( 이상 행동에 관련된 주요 인물은 누구인가요? )",
        "What is the cause of the sudden change in the video?\t( 영상에서 갑작스러운 변화의 원인은 무엇인가요? )",
        "When does the suspicious activity start in the video?\t( 영상에서 의심스러운 활동이 언제 시작되었나요? )",
        "Where can I find more information about the incident in the video?\t( 영상에서 사건에 대한 추가 정보를 어디서 찾을 수 있나요? )",
        "Why are the people in the video reacting in that way?\t( 영상에서 사람들이 그 방식으로 반응하는 이유는 무엇인가요? )",
        "How can I identify the source of the problem in the video?\t( 영상에서 문제의 원인을 어떻게 식별할 수 있나요? )",
        "How much time does the abnormal event last in the video?\t( 영상에서 비정상적인 사건이 얼마나 지속되었나요? )",   
        "Who are the other people affected by the anomaly in the video?\t( 영상에서 이상 행동으로 영향을 받는 다른 사람들은 누구인가요? )",
        "What actions were taken to address the issue in the video?\t( 영상에서 문제를 해결하기 위해 어떤 조치가 취해졌나요? )",
        "How can I prevent such anomalies from occurring in the future?\t( 향후 이러한 이상 행동이 발생하지 않도록 어떻게 예방할 수 있나요? )"
    ],

    "Surveillance": [
        "Write, step by step, what actions the surveillance operator should take in response to this video.\t( 이 영상에 대해 보안 관리자가 취해야 할 행동을 단계별로 작성하세요. )",
        "Assess the severity as low/medium/high and explain the rationale. \t( 심각도를 낮음/중간/높음으로 평가하고 그 근거를 설명하세요. )",
        "Explain what makes this abnormal compared to normal footage, and provide supporting evidence.\t( 정상 영상과 비교하여 이것이 비정상인 이유를 설명하고, 근거를 제시하세요. )",
        "Select one event type to record in the surveillance log for this incident, and briefly justify your choice.\t( 이 사건에 대해 보안 로그에 기록할 이벤트 유형을 하나 선택하고, 간단히 선택 이유를 설명하세요. )",
        "Choose one response option—(dispatch / remote verification / continue monitoring)—and explain why.\t( 출동 / 원격 확인 / 계속 모니터링) 중 하나의 대응 옵션을 선택하고 그 이유를 설명하세요. )",
        "To rule out the possibility of a false alarm, list three additional points the operator should check.\t( 오경보 가능성을 배제하기 위해, 관리자가 확인해야 할 추가 사항 세 가지를 나열하세요. )",
        "Based on the provided frames, summarize how the incident unfolds using the following stages: (1) Early signs (2) Onset (3) Escalation / continuation (4) Resolution\t( 제공된 프레임을 기반으로 다음 단계로 사건이 어떻게 전개되는지 요약하세요: (1) 초기 징후 (2) 발병 (3) 악화 / 지속 (4) 해결 )",
        "In three lines, summarize the “normal operating conditions” observed in this video, focusing on people and the surrounding environment.\t( 세 줄로 이 영상에서 관찰된 “정상 운영 조건”을 요약하세요, 사람과 주변 환경에 초점을 맞춰서. )",
        "Even if it appears normal right now, list 1–3 potential risks that could become dangerous over time. If none, write “None.”\t( 지금은 정상으로 보이더라도, 시간이 지남에 따라 위험해질 수 있는 잠재적 위험 요소 1–3개를 나열하세요. 없다면 “없음”이라고 작성하세요. )",
        "From a security/safety monitoring perspective, choose whether the provided frame is normal or anomalous, then write a one-sentence caption that follows this format: [Label] (1) People/behavior (2) Surroundings / environment (3) One piece of evidence (Normal or Anomalous)\t( 보안/안전 모니터링 관점에서 제공된 프레임이 정상인지 비정상인지 선택한 다음, 다음 형식에 따라 한 문장으로 캡션을 작성하세요: [라벨] (1) 사람/행동 (2) 주변 환경 (3) 한 가지 증거 (정상 또는 비정상) )"
    ]
}

AB_CRITERIA = [
    "둘 중 어느 쪽이 보안관제사가 다음 행동을 바로 결정하는 데에 도움이 되나요?",  # decision making
    "둘 중 어느 쪽이 더 모호하지 않고 명확한 질문이라고 생각하나요?",           # clarity
    "본인이 보안관제사라면 둘 중 어느 쪽의 질문을 더 선호할 것 같나요?"          # preference
]


def format_ab_round(round_data, choices):

    A_label, A_set = round_data["A"]
    B_label, B_set = round_data["B"]

    result = {
        "choice": {
            "decision_making": A_label if choices[0] == "A" else B_label,
            "clarity": A_label if choices[1] == "A" else B_label,
            "preference": A_label if choices[2] == "A" else B_label,
        }
    }

    # 질문 세트 정보 저장
    for label, qset in [(A_label, A_set), (B_label, B_set)]:
        block = {}
        total_list = []

        for cat, q in qset:
            block[cat] = q
            total_list.append(q)

        block["total"] = total_list
        result[label] = block

    return result
